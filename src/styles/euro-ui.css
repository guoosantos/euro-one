@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Tokens padrão Euro One */
:root{
  --e-header-h: 56px;        /* altura do topo */
  --e-sidebar-w: 264px;      /* largura do menu esquerdo */
  --e-radius: 14px;
  --e-text: 15px;
}

/* ── Tipografia base para headings */
.e-heading    { @apply text-[17px] font-semibold leading-tight tracking-tight; }
.e-subheading { @apply text-[15px] font-medium leading-tight text-white/70; }

/* ──────────────────────────────────────────────────────────────
   Padronização NÃO intrusiva (somente CSS, sem mexer em JSX)
   ─ força dimensões e tipografia do header e sidebar
   ────────────────────────────────────────────────────────────── */

/* Sidebar: qualquer <aside> do layout principal */
aside{
  width: var(--e-sidebar-w) !important;
  flex: 0 0 var(--e-sidebar-w) !important;
  border-right: 1px solid rgba(255,255,255,0.10);
}

/* Itens de navegação (anchors dentro do nav do sidebar) */
aside nav a{
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  height: 36px !important;                 /* h-9 */
  padding: 0 12px !important;              /* px-3 */
  border-radius: 12px !important;          /* rounded-xl */
  font-size: var(--e-text) !important;     /* ~15px */
  color: rgba(255,255,255,0.80) !important;
}
aside nav a:hover{
  color: #fff !important;
  background: rgba(255,255,255,0.06) !important;
}

/* Títulos de seção no sidebar (EURO VIEW, FROTAS etc.) */
aside [class*="uppercase"],
aside .section-title{
  font-size: 12px !important;
  letter-spacing: .06em !important;
  color: rgba(255,255,255,0.40) !important;
  padding: 8px 8px 4px 8px !important;
  text-transform: uppercase !important;
}

/* Ícones do menu (qualquer svg/picture dentro do link) */
aside nav a svg,
aside nav a img{
  width: 20px !important;
  height: 20px !important;
}

.page-shell{
  display:flex;
  flex-direction:column;
  gap:24px;
}

.page-header{
  min-height: var(--e-header-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 12px 18px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,0.08);
  background: rgba(12,18,28,0.65);
  backdrop-filter: blur(18px);
}

.page-header h1{
  font-size: 18px;
  font-weight: 600;
  margin:0;
  color:#fff;
}

.page-content{
  display:flex;
  flex-direction:column;
  gap:24px;
}

/* Tabelas e filtros: harmoniza tamanhos de fonte/inputs sem mexer no markup */
table, thead, tbody, th, td{
  font-size: 14px !important;
}
input, select, button{
  font-size: 14px !important;
  border-radius: 12px !important;
}

.fleet-marker-wrapper{ filter: drop-shadow(0 16px 32px rgba(0,0,0,0.45)); }
.fleet-marker{
  position:relative;
  width:42px;
  height:42px;
  display:flex;
  align-items:center;
  justify-content:center;
  transition: transform .2s ease;
}
.fleet-marker--active{ transform: scale(1.06); }
.fleet-marker__body{
  position:relative;
  width:36px;
  height:36px;
  border-radius:18px 18px 10px 10px;
  background: var(--marker-bg, rgba(148,163,184,0.25));
  border:1.5px solid var(--marker-border, rgba(148,163,184,0.6));
  display:flex;
  align-items:center;
  justify-content:center;
}
.fleet-marker__heading{
  position:absolute;
  top:-9px;
  left:50%;
  width:16px;
  height:16px;
  background: var(--marker-arrow, #38bdf8);
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  transform: translateX(-50%) rotate(var(--marker-rotation,0deg));
  transform-origin:50% 80%;
  box-shadow:0 4px 14px rgba(0,0,0,0.45);
}
.fleet-marker__speed{
  font-size:11px;
  font-weight:600;
  color:#fff;
  text-align:center;
}
.fleet-marker__unit{ display:block; font-size:9px; opacity:.7; }
.fleet-marker__ignition{
  position:absolute;
  bottom:-8px;
  left:50%;
  width:12px;
  height:12px;
  background:#64748b;
  border-radius:999px;
  border:2px solid #0b1019;
  transform:translateX(-50%);
}
.fleet-marker__ignition.is-on{ background:#22c55e; box-shadow:0 0 10px rgba(34,197,94,0.6); }
.fleet-marker__pulse{
  position:absolute;
  inset:0;
  border-radius:inherit;
  border:1px solid rgba(255,255,255,0.08);
  animation:fleet-pulse 2.4s ease infinite;
}

@keyframes fleet-pulse{
  0%{ opacity:0; transform:scale(.9); }
  40%{ opacity:.7; }
  100%{ opacity:0; transform:scale(1.2); }
}

.fleet-popup .leaflet-popup-content-wrapper,
.fleet-popup .leaflet-popup-tip{
  background:#0f1523;
  color:#fff;
  border:1px solid rgba(255,255,255,0.1);
  box-shadow:0 18px 40px rgba(0,0,0,0.45);
}

.fleet-popup__body{ min-width:220px; max-width:260px; display:flex; flex-direction:column; gap:12px; }
.fleet-popup__header{ display:flex; align-items:flex-start; justify-content:space-between; gap:8px; }
.fleet-popup__badge{ padding:4px 10px; border-radius:999px; font-size:11px; border-width:1px; border-style:solid; }
.fleet-popup__row{ display:flex; gap:8px; font-size:12px; color:rgba(255,255,255,0.7); }
.fleet-popup__icon{ color:rgba(255,255,255,0.5); }
.fleet-popup__grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:10px; }
.fleet-popup__metric{ display:flex; gap:8px; align-items:center; font-size:12px; color:rgba(255,255,255,0.75); }
.fleet-popup__metric-label{ font-size:10px; text-transform:uppercase; letter-spacing:.08em; color:rgba(255,255,255,0.45); }
.fleet-popup__metric-value{ font-weight:500; color:#fff; }
.fleet-popup__alerts{ display:flex; flex-wrap:wrap; gap:6px; }
.fleet-popup__alert{ font-size:10px; padding:4px 8px; border-radius:999px; background:rgba(239,68,68,0.12); color:#fca5a5; border:1px solid rgba(248,113,113,0.2); }
